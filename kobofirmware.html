<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Kobo Firmware Download Links</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Direct links to download Kobo firmware for all Kobo eReader devices including the Kobo Mini, Kobo Touch, Kobo Glo, Kobo Aura, and more.">
    <meta name="author" content="Patrick G">
</head>

<body>
    <div style="text-align: center">
        <a href="http://geek1011.github.io" target="_blank">Patrick G: The person who made this tool</a> | 
        <a href="/KoboStuff" target="_blank">KoboStuff: Random stuff I know about the kobo ereaders</a> | 
        <a href="http://geek1011.github.io/BookReader" target="_blank">BookReader: An cross-platform, customizableebook reader</a> | 
        <a href="http://geek1011.github.io/ePubViewer" target="_blank">ePubViewer: A web based epub viewer</a> | 
        <a href="http://geek1011.github.io/SimpleMarkdown" target="_blank">SimpleMarkdown: An easy to use markdown editor</a> | 
        <a href="http://geek1011.github.io/BookBrowser" target="_blank">BookBrowser: A web interface to browse your epub books</a>
    </div><br>
    <h1>Kobo Firmware Download Links</h1>
    <p>This tool will get the latest official firmware links directly from Kobo.</p>
    <p><b>How to use these links: </b> After you download the correct link for your firmware, extract the zip file into the
        <tt>.kobo</tt> folder of your Kobo eReader.</p>
    <table id="KoboFirmware"></table>
    <footer>
        Tip: To link to this page with a filter (by model, hardware revision, or firmware version), <a href="javascript:void(0);"
            onclick="window.location.hash = prompt('Filter text', (window.location.hash || '').replace('#', '')) || ''">click here</a>
        <br><br>
        	This tool may not work on Microsoft Internet Explorer.<br>
        <br> A tool provided by <a href="https://github.com/geek1011">geek1011</a>. If you liked this tool, you might like
        <a href="http://geek1011.github.io/BookReader">BookReader</a>, my eBook reading app for Windows and Linux, or
        <a
            href="http://geek1011.github.io/ePubViewer">ePubViewer</a>, my web-based ePub reader.
    </footer>
    <style>
        html,
        body {
            padding: 0;
            margin: 0;
        }

        body {
            font-family: "Helvetica Neue", Helvetica, Arial;
            font-size: 14px;
            line-height: 20px;
            font-weight: 400;
            -webkit-font-smoothing: antialiased;
            padding: 1em;
            max-width: 600px;
            margin: auto;
            font-family: sans-serif;
        }

        h1 {
            text-align: center;
            font-weight: 300;
        }

        p {
            text-align: justify;
        }

        footer {
            padding: 8px;
            text-align: center;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            border: 1px solid #ddd;
        }

        th,
        td {
            padding: 8px;
            text-align: center;
            border-bottom: 1px solid #ddd;
        }

        tr:hover {
            background-color: #f5f5f5
        }

        table {
            border: none;
            border-collapse: collapse;
            background: #f6f6f6;
            color: #3b3b3b;
            margin: auto;
            -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
            -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
        }

        th,
        td {
            margin: 0;
            padding: 0;
        }

        th {
            background: #2980b9;
            font-weight: 900;
            color: #ffffff;
        }

        tr {
            padding: 8px 0;
        }

        th,
        td {
            padding: 6px 12px;
        }

        tr:nth-of-type(odd) {
            background: #e9e9e9;
        }

        table.highlighted tr.nohighlight {
            opacity: 0.5 !important;
        }

        tr.highlight {
            background: #edd187;
            transform: scale(1.03);
        }
        a, a:link, a:visited {
            color: inherit;
            cursor: pointer;
            text-decoration: underline;
            background: rgba(0,0,0,0.05);
            display: inline-block;
            margin: 2px;
        }
        a:hover, a:active {
            background: rgba(0,0,0,0.1);
        }
    </style>
    <script>/* Array filter and map polyfill */
void 0===Array.prototype.map&&(Array.prototype.map=function(a){for(var b=[],c=0,d=this.length;c<d;c++)b.push(a(this[c]));return b}),void 0===Array.prototype.filter&&(Array.prototype.filter=function(a){for(var b=[],c=0,d=this.length;c<d;c++)a(this[c])&&b.push(this[c]);return b});
    </script>
    <script>/* Promise polyfill */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){I=t}function r(t){J=t}function o(){return function(){return process.nextTick(a)}}function i(){return"undefined"!=typeof H?function(){H(a)}:c()}function s(){var t=0,e=new V(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=a,function(){return t.port2.postMessage(0)}}function c(){var t=setTimeout;return function(){return t(a,1)}}function a(){for(var t=0;t<G;t+=2){var e=$[t],n=$[t+1];e(n),$[t]=void 0,$[t+1]=void 0}G=0}function f(){try{var t=require,e=t("vertx");return H=e.runOnLoop||e.runOnContext,i()}catch(n){return c()}}function l(t,e){var n=arguments,r=this,o=new this.constructor(p);void 0===o[et]&&k(o);var i=r._state;return i?!function(){var t=n[i-1];J(function(){return x(i,o,t,r._result)})}():E(r,o,t,e),o}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(p);return g(n,t),n}function p(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function _(t){try{return t.then}catch(e){return it.error=e,it}}function y(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function m(t,e,n){J(function(t){var r=!1,o=y(n,e,function(n){r||(r=!0,e!==n?g(t,n):S(t,n))},function(e){r||(r=!0,j(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,j(t,o))},t)}function b(t,e){e._state===rt?S(t,e._result):e._state===ot?j(t,e._result):E(e,void 0,function(e){return g(t,e)},function(e){return j(t,e)})}function w(t,n,r){n.constructor===t.constructor&&r===l&&n.constructor.resolve===h?b(t,n):r===it?j(t,it.error):void 0===r?S(t,n):e(r)?m(t,n,r):S(t,n)}function g(e,n){e===n?j(e,v()):t(n)?w(e,n,_(n)):S(e,n)}function A(t){t._onerror&&t._onerror(t._result),P(t)}function S(t,e){t._state===nt&&(t._result=e,t._state=rt,0!==t._subscribers.length&&J(P,t))}function j(t,e){t._state===nt&&(t._state=ot,t._result=e,J(A,t))}function E(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+rt]=n,o[i+ot]=r,0===i&&t._state&&J(P,t)}function P(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?x(n,r,o,i):o(i);t._subscribers.length=0}}function T(){this.error=null}function M(t,e){try{return t(e)}catch(n){return st.error=n,st}}function x(t,n,r,o){var i=e(r),s=void 0,u=void 0,c=void 0,a=void 0;if(i){if(s=M(r,o),s===st?(a=!0,u=s.error,s=null):c=!0,n===s)return void j(n,d())}else s=o,c=!0;n._state!==nt||(i&&c?g(n,s):a?j(n,u):t===rt?S(n,s):t===ot&&j(n,s))}function C(t,e){try{e(function(e){g(t,e)},function(e){j(t,e)})}catch(n){j(t,n)}}function O(){return ut++}function k(t){t[et]=ut++,t._state=void 0,t._result=void 0,t._subscribers=[]}function Y(t,e){this._instanceConstructor=t,this.promise=new t(p),this.promise[et]||k(this.promise),B(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):j(this.promise,q())}function q(){return new Error("Array Methods must be provided an Array")}function F(t){return new Y(this,t).promise}function D(t){var e=this;return new e(B(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function K(t){var e=this,n=new e(p);return j(n,t),n}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function N(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function U(t){this[et]=O(),this._result=this._state=void 0,this._subscribers=[],p!==t&&("function"!=typeof t&&L(),this instanceof U?C(this,t):N())}function W(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(e){}if("[object Promise]"===r&&!n.cast)return}t.Promise=U}var z=void 0;z=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var B=z,G=0,H=void 0,I=void 0,J=function(t,e){$[G]=t,$[G+1]=e,G+=2,2===G&&(I?I(a):tt())},Q="undefined"!=typeof window?window:void 0,R=Q||{},V=R.MutationObserver||R.WebKitMutationObserver,X="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$=new Array(1e3),tt=void 0;tt=X?o():V?s():Z?u():void 0===Q&&"function"==typeof require?f():c();var et=Math.random().toString(36).substring(16),nt=void 0,rt=1,ot=2,it=new T,st=new T,ut=0;return Y.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===nt&&n<t;n++)this._eachEntry(e[n],n)},Y.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===h){var o=_(t);if(o===l&&t._state!==nt)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===U){var i=new n(p);w(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},Y.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===nt&&(this._remaining--,t===ot?j(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},Y.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){return n._settledAt(rt,e,t)},function(t){return n._settledAt(ot,e,t)})},U.all=F,U.race=D,U.resolve=h,U.reject=K,U._setScheduler=n,U._setAsap=r,U._asap=J,U.prototype={constructor:U,then:l,"catch":function(t){return this.then(null,t)}},U.polyfill=W,U.Promise=U,U}),ES6Promise.polyfill();
    </script>
    <script>
        Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var a=this.length-1;a>=0;a--)this[a]&&this[a].parentElement&&this[a].parentElement.removeChild(this[a])};
    </script>
    <script>
        var KoboFirmware = {};
        KoboFirmware.util = {};
        KoboFirmware.util.FixDate = function (date) {
            var newDate = date;
            newDate = newDate && newDate[0].toUpperCase() + newDate.slice(1);
            newDate = [newDate.slice(0, newDate.search(/\d/)), " ", newDate.slice(newDate.search(/\d/))].join('');
            return newDate;
        };

        /* CONFIG STARTS HERE */
        KoboFirmware.affiliates = ["kobo", "rakutenbooks", "fnac", "bol"];
        KoboFirmware.devicesToCheck = {
            "00000000-0000-0000-0000-000000000310": "Kobo Touch A/B",
            "00000000-0000-0000-0000-000000000320": "Kobo Touch C",
            "00000000-0000-0000-0000-000000000340": "Kobo Mini",
            "00000000-0000-0000-0000-000000000330": "Kobo Glo",
            "00000000-0000-0000-0000-000000000371": "Kobo Glo HD",
            "00000000-0000-0000-0000-000000000372": "Kobo Touch 2.0",
            "00000000-0000-0000-0000-000000000360": "Kobo Aura",
            "00000000-0000-0000-0000-000000000350": "Kobo Aura HD",
            "00000000-0000-0000-0000-000000000370": "Kobo Aura H2O",
            "00000000-0000-0000-0000-000000000373": "Kobo Aura ONE",
            "00000000-0000-0000-0000-000000000375": "Kobo Aura Edition 2"
        };
        /* CONFIG ENDS HERE */

        KoboFirmware.devices = [];
        KoboFirmware.promises = {};
        KoboFirmware.promises.JSONP = function jsonp(timeout, jsonpurl, url) {
            var CALLBACK_CHARS = 'abcdefghijklmnopqrstuvwxyz0123456789';
            var timeout = timeout || 4000;

            return new Promise(function (resolve, reject) {
                var callback;
                while (!callback || window[callback] !== undefined) {
                    callback = 'JSONP_';
                    for (var i = 0; i < 10; i++) {
                        callback += CALLBACK_CHARS[Math.random() * CALLBACK_CHARS.length | 0];
                    }
                }

                function cleanup() {
                    delete window[callback];
                    script.remove();
                }

                var ticket = setTimeout(function () {
                    cleanup();
                    reject("Connection timed out");
                }, timeout);

                window[callback] = function (data) {
                    clearTimeout(ticket);
                    cleanup();
                    resolve(data);
                };

                var script = document.createElement('script');
                script.src = jsonpurl + '?url=' + encodeURIComponent(url) + '&callback=' +
                    encodeURIComponent(callback);
                document.body.appendChild(script);
            })
        };

        KoboFirmware.promises.CustomJSONP = KoboFirmware.promises.JSONP.bind(null, 4000, "https://json2jsonp.com/");

        KoboFirmware.promises.GetUpdateInfo = function (modelId, affiliate) {
            return KoboFirmware.promises.CustomJSONP("https://api.kobobooks.com/1.0/UpgradeCheck/Device/" + modelId +
                "/" + affiliate + "/0.0/N");
        };

        KoboFirmware.promises.GreatestVersion = function (versions) {
            return new Promise(function (resolve, reject) {
                var versionCompare = function (v1, v2, options) {
                    var lexicographical = options && options.lexicographical,
                        zeroExtend = options && options.zeroExtend,
                        v1parts = v1.split('.'),
                        v2parts = v2.split('.');

                    function isValidPart(x) {
                        return (lexicographical ? /^\d+[A-Za-z]*$/ : /^\d+$/).test(x);
                    }

                    if (!v1parts.every(isValidPart) || !v2parts.every(isValidPart)) {
                        return NaN;
                    }

                    if (zeroExtend) {
                        while (v1parts.length < v2parts.length) v1parts.push("0");
                        while (v2parts.length < v1parts.length) v2parts.push("0");
                    }

                    if (!lexicographical) {
                        v1parts = v1parts.map(Number);
                        v2parts = v2parts.map(Number);
                    }

                    for (var i = 0; i < v1parts.length; ++i) {
                        if (v2parts.length == i) {
                            return 1;
                        }

                        if (v1parts[i] == v2parts[i]) {
                            continue;
                        } else if (v1parts[i] > v2parts[i]) {
                            return 1;
                        } else {
                            return -1;
                        }
                    }

                    if (v1parts.length != v2parts.length) {
                        return -1;
                    }

                    return 0;
                }

                if (versions.length < 1) {
                    reject("No versions specified")
                    return;
                }

                var currentVersion = versions[0];
                for (var i = 0; i < versions.length; i++) {
                    currentVersion = versionCompare(currentVersion, versions[i], {
                            lexicographical: false,
                            zeroExtend: false
                        }) == 1 ? currentVersion :
                        versions[i];
                }

                resolve(currentVersion);
            });
        };

        KoboFirmware.promises.GreatestVersionedUpdateInfo = function (parsedUpdateInfo) {
            return new Promise(function (resolve, reject) {
                var versions = parsedUpdateInfo.map(function (i) {
                    return i.upgradeVersion;
                });
                KoboFirmware.promises.GreatestVersion(versions).then(function (r) {
                    resolve(parsedUpdateInfo[versions.indexOf(r)]);
                }).catch(reject);
            });
        }

        KoboFirmware.promises._ParseUpdateInfo = function (modelId, info) {
            var r = {};
            try {
                r = {
                    modelId: modelId,
                    modelName: KoboFirmware.devices.filter(function (device) {
                        return device.modelId == modelId;
                    })[0].modelName,
                    hardwareRevision: info.UpgradeURL.split("/")[4],
                    releaseNoteURL: info.ReleaseNoteURL,
                    upgradeType: info.UpgradeType,
                    upgradeURL: info.UpgradeURL,
                    upgradeVersion: info.UpgradeURL.replace('kobo-update-', '').replace('.zip', '').split('/').pop(),
                    upgradeReleaseDate: KoboFirmware.util.FixDate(info.UpgradeURL.split("/")[5])
                };
                return Promise.resolve(r);
            } catch (e) {
                console.warn(e);
                return Promise.reject("Error parsing update info");
            }
        };

        KoboFirmware.promises.ParseUpdateInfo = function (modelId) {
            return KoboFirmware.promises._ParseUpdateInfo.bind(null, modelId);
        }

        KoboFirmware.promises.UpdateDeviceInfo = function (device) {
            try {
                KoboFirmware.devices = KoboFirmware.devices.map(function (k) {
                    return k.modelId == device.modelId ? device : k;
                });
                return Promise.resolve(device);
            } catch (e) {
                console.warn(e);
                return Promise.reject("Error updating device table");
            }
        }

        KoboFirmware.LoadInfo = function () {
            KoboFirmware.devices.map(function (device) {
                Promise.all(
                    KoboFirmware.affiliates.map(
                        KoboFirmware.promises.GetUpdateInfo.bind(null, device.modelId)
                    )
                ).then(function (r) {
                    return new Promise(function (resolve, reject) {
                        resolve(r.map(
                            KoboFirmware.promises.ParseUpdateInfo(device.modelId)
                        ));
                    });
                }).then(function (r) {
                	/* Resolve promises to actual results */
                    return Promise.all(r);
                }).then(
                    KoboFirmware.promises.GreatestVersionedUpdateInfo
                ).then(
                    KoboFirmware.promises.UpdateDeviceInfo
                ).catch(function (e) {
                    console.warn(e);
                    device.upgradeVersion = e;
                    return KoboFirmware.promises.UpdateDeviceInfo(device);
                });
            })
        };

        KoboFirmware.UpdateTable = function () {
            var tableCode =
                "<thead><tr><th>Kobo Model</th><th>Hardware Revision</th><th>Firmware Version</th><th>Firmware Release Date</th><th>Firmware Link</th></tr></thead><tbody>";
            var highlighted = "nothighlighted";
            KoboFirmware.devices.map(function (device) {
                var toHighlight = (
                    window.location.hash != "" ? ((device.modelId.indexOf(window.location.hash.replace(
                            "#", "")) > -1) ||
                        (device.modelName.toLowerCase().indexOf(window.location.hash.replace("#", "").toLowerCase()) >
                            -1) ||
                        (device.hardwareRevision.toLowerCase().indexOf(window.location.hash.replace("#",
                            "").toLowerCase()) > -1) || (device.upgradeVersion.toLowerCase().indexOf(
                            window.location.hash.replace("#", "").toLowerCase()) > -1)) : false);
                if (toHighlight) {
                    highlighted = "highlighted";
                }
                tableCode += "<tr id=\"" + device.modelId + "\"" + (toHighlight ? " class=\"highlight\" " :
                        "class=\"nohighlight\"") + "><td>" + device.modelName + "</td><td>" +
                    device.hardwareRevision +
                    "</td><td>" + (device.upgradeVersion != "" ? device.upgradeVersion :
                        "loading") +
                    "</td><td>" + device.upgradeReleaseDate +
                    "</td><td><a onclick=\"ga('send',{hitType: 'event',eventCategory: 'KoboStuff',eventAction: 'DownloadFirmware',eventLabel: this.parentNode.parentNode.querySelector('td').innerHTML});\" target=\"_blank\" href=\"" +
                    device.upgradeURL +
                    "\">Download</a><br><a title=\"Release notes (usually useless)\" target=\"_blank\" href=\"" +
                    device.releaseNoteURL +
                    "\">Release Notes</a></td></tr>";
            });

            tableCode += "</tbody>";
            document.getElementById("KoboFirmware").classList.remove("highlighted");
            document.getElementById("KoboFirmware").classList.add(highlighted);
            document.getElementById("KoboFirmware").innerHTML = tableCode;
        };

        KoboFirmware.Init = function () {
            (function InitDeviceTable() {
                for (k in KoboFirmware.devicesToCheck) {
                    if (KoboFirmware.devicesToCheck.hasOwnProperty(k)) {
                        KoboFirmware.devices.push({
                            modelId: k,
                            modelName: KoboFirmware.devicesToCheck[k],
                            hardwareRevision: "",
                            releaseNoteURL: "javascript:alert('Not ready yet');",
                            upgradeType: "",
                            upgradeURL: "javascript:alert('Not ready yet');",
                            upgradeVersion: "",
                            upgradeReleaseDate: ""
                        });
                    }
                }
            })();
            KoboFirmware.LoadInfo();
            window.setInterval(KoboFirmware.UpdateTable, 500);
            KoboFirmware.UpdateTable();
        };
        KoboFirmware.Init();
    </script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-66226417-1', 'auto');
        ga('send', 'pageview');
    </script>
    <a href="https://github.com/geek1011/KoboStuff/blob/gh-pages/kobofirmware.html"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67"
            alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
</body>

</html>
